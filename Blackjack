import os
import random

deck = [2,3,4,5,6,7,8,9,10,11,12,13,14]*4

def dealahand(deck):
    hand = []
    for i in range(2):
        random.shuffle(deck)
        card = deck.pop()
        if card == 11:card = "J"
        if card == 12:card = "Q"
        if card == 13:card = "K"
        if card == 14:card = "A"
        hand.append(card)
    return hand
    
def restart():
    reset = input("Again? (y/n): ")
    if reset == "y":
        dealerhand = []
        playerhand = []
        deck = [2,3,4,5,6,7,8,9,10,11,12,13,14]*4
        game()
    else:
        print("Goodbye")
        exit()

dealerhand = dealahand(deck)
playerhand = dealahand(deck)
    
def sumcard(hand):
    sumcard = 0
    for card in hand:
        if card == "J" or card == "Q" or card == "K":
            sumcard+= 10 
        elif card == "A":
            if sumcard >= 11: sumcard+=1
        else : sumcard+= 1
    else: sumcard += card
    return sumcard
print (sumcard)
        
def card1(hand):
    random.choice(hand)
    print ("cardchoice1")
    if random.choice(hand) == "A" or 14:
        random.randint(1,11)
        print(random.randint(1,11)) 
    else:
        print (random.choice(hand)) 
        
def card2(hand):
    random.choice(hand) 
    print ("cardchoice2")
    if random.choice(hand) == "A" or 14:
        random.randint(1,11)
        print(random.randint(1,11)) 
    print(random.choice(hand)) 

def hit(hand):
	card = deck.pop()
	if card == 11:card = "J"
	if card == 12:card = "Q"
	if card == 13:card = "K"
	if card == 14:card = "A"
	hand.append(card)
	return hand

def clear():
	if os.name == 'nt':
		os.system('CLS')
	if os.name == 'posix':
		os.system('clear')

def results(dealerhand, playerhand):
	clear()
	print ("Dealer:" + str(dealerhand) + "Total:" + str(sumcard(dealerhand)))
	print ("You" + str(playerhand) + "Total:" +str(sumcard(player_hand)))
	
def blackjack(dealerhand, playerhand):
if total(playerhand) == 21:
		results(dealerhand, playerhand)
print "you got a blackjack, yay!\n"
		play_again()
elif sumcard(dealerhand) == 21:
		results(dealerhand, playerhand)		
print "dealer got a blackjack. you lose\n"
		play_again()
		
def score(dealerhand, playerhand):
if sumcard(playerhand) == 21:
		results(dealerhand, playerhand)
print "blackjack\n"
elif sumcard(dealerhand) == 21:
		results(dealerhand, playerhand)		
print "dealer got a blackjack. you lost.\n"
elif sumcard(playerhand) > 21:
		results(dealerhand, playerhand)
print "bust, sorry you lost\n"
elif sumcard(dealerhand) > 21:
		results(dealerhand, playerhand)			   
print "dealer busted, you win this round\n"
elif sumcard(playerhand) < sumcard(dealerhand):
		results(dealerhand, playerhand)
print "dealer's score is greater, you lost.\n"
elif sumcard(playerhand) > sumcard(dealerhand):
		results(dealerhand, playerhand)			   
print "your score is higher than the dealer. you won\n"

def playgame():
    output = 0
    clear()
    print("play blackjack game")
    playerhand = deal(deck)
    dealerhand = deal(deck)
    print ("dealer" + str(dealerhand[0]))
    print ("player" + str(playerhand) "for total" +str(total(playerhand))) 
    blackjack (dealerhand, playerhand)
    quit=False
     while not quit:
        choice = input("Wanna [H]it ?, Wanna [S]tand ?, or Wanna [Q]uit? : ").lower()
        if choice == 'h':
            hit(playerhand)
            print(playerhand)
            if total(playerhand)>21:
                print('bust')
                play_again()
        elif choice=='s':
            while total(dealerhand)<17:
                hit(dealerhand)
                print(dealerhand)
                if total(dealerhand)>21:
                    print('dealer bust you won')
                    play_again()
            score(dealerhand,playerhand)
            play_again()
        elif choice == "q":
            print("come play again soon!!")
            quit=True
            exit()
